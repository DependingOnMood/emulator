{"version":3,"file":"gameServices.min.js","sources":["gameServices.js"],"names":["angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","i","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","length","operation","set","visibleToPlayerIndexes","indexOf","type","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","Math","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","toString","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","stateService","messageService","passUpdateUI","params","lastUpdateUI","wasYourTurn","isLocalTesting","sendMessage","createPlayersInfo","gameDeveloperEmail","addMessageListener","message","lastMessage","isMoveOkResult","gameReady","parent","gameUrl","postMessage","listener","addEventListener","event","source","$apply","factory","exception","cause","exceptionString","stackTrace","stack","emailJavaScriptError","emailSubject","emailBody","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","startTime","Date","getTime","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","console","log","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","oldSizes","rescale","round2","num","round","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","gameArea","style","display","newWidthToHeight","keepMargin","width","height","position","left","top","doc","document","getElementById","onresize","onorientationchange","setInterval"],"mappings":"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"}