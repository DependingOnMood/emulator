{"version":3,"file":"gameServices.min.js","sources":["gameServices.js"],"names":["angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","i","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","alert","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","length","operation","set","visibleToPlayerIndexes","indexOf","type","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","Math","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","toString","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","stateService","messageService","passUpdateUI","params","lastUpdateUI","wasYourTurn","isLocalTesting","sendMessage","gameUrl","createPlayersInfo","gameDeveloperEmail","addMessageListener","message","lastMessage","isMoveOkResult","gameReady","parent","postMessage","listener","addEventListener","event","source","$apply","factory","exception","cause","exceptionString","stackTrace","stack","emailJavaScriptError","emailSubject","emailBody","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","startTime","Date","getTime","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","console","log","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","rescale","round2","num","round","windowWidth","innerWidth","windowHeight","innerHeight","oldSizes","gameArea","doc","getElementById","style","display","newWidthToHeight","height","width","marginTop","marginLeft","position","left","top","document","onresize","onorientationchange","setInterval"],"mappings":"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"}