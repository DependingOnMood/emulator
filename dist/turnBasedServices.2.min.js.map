{"version":3,"file":"turnBasedServices.2.min.js","sources":["turnBasedServices.2.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","Math","round","toString","addEventListener","setInterval","emulatorServicesCompilationDate","angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","indexOf","type","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","logSaver","gameUrl","sendMessage","message","parent","postMessage","addMessageListener","listener","event","source","$apply","factory","angularErrorHandler","exception","cause","lines","stack","replace","getLogs","errStr","console","emailJavaScriptError","window","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","entry","stringArgs","arg","stringArg","toFixed","alwaysLogs","alwaysLog","apply","debug","warn","log","stateService","messageService","passUpdateUI","lastUpdateUI","wasYourTurn","isLocalTesting","createPlayersInfo","didCallSetGame","gameDeveloperEmail","lastMessage","isMoveOkResult","gameReady","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","onresize","onorientationchange","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","urlParams","lang","angularTranslationLanguages","query","substr","forEach","part","item","decodeURIComponent","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","str","translate","translationId","interpolateParams","translation","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}