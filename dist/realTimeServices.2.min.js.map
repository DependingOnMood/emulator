{"version":3,"file":"realTimeServices.2.min.js","sources":["realTimeServices.2.js"],"names":["emulatorServicesCompilationDate","angular","module","service","$window","$log","$timeout","messageService","resizeGameAreaService","randomService","sendMessageNowToCanvasController","index","msg","canvasController","canvasControllers","gotMessage","gotStartMatch","undefined","gotEndMatch","Error","toJson","sendMessageToCanvasController","simulateDelay","canvasControllersMessageQueue","push","_msg","shift","doNotUseInYourGameGetOriginalMathRandom","init","params","createCanvasController","canvasWidth","canvasHeight","gameDeveloperEmail","i","bodyStr","maxPlayers","canvases","document","body","innerHTML","canvas","getElementById","safeCanvasController","messagePasser","p","isOngoing","createSingleDeviceMatchController","playerIndex","singleDeviceSendMessage","isReliable","playersInfo","checkSendMessage","fromPlayerIndex","message","length","simulateLosingUnreliableMsgs","singleDeviceEndMatch","endMatchScores","info","endMatch","sendReliableMessage","sendUnreliableMessage","getBestRowsCols","numberOfPlayers","windowWidth","window","innerWidth","windowHeight","innerHeight","maxScale","bestRowsCols","rows","cols","totalWidth","totalHeight","scaleW","scaleH","scale","Math","min","changeCanvasesDispay","style","display","setWidthToHeight","canvasPercentWidth","canvasPercentHeight","margin","row","col","top","left","width","height","handleGotStartMatch","handleGotEndMatch","randomSeed","isSingleDevice","yourPlayerIndex","setSeed","matchController","handleGotMessage","handleMessage","lastMessage","console","error","checkMultiDeviceMessage","sendMessage","urlParams","query","location","search","substr","result","split","forEach","part","item","decodeURIComponent","sendLocalTestingStartMatch","numberOfLocalTestPlayers","playerId","isLocalTesting","addMessageListener","gameReady","parent","Number","testPlayers","delay","loseUnreliable","this","logSaver","$rootScope","gameUrl","toString","postMessage","listener","addEventListener","event","source","data","$apply","factory","angularErrorHandler","exception","cause","lines","stack","replace","getLogs","errStr","join","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","convertLogEntriesToStrings","logs","entry","stringArgs","j","arg","stringArg","toFixed","alwaysLogs","alwaysLog","arguments","apply","debug","warn","log","checkRandomIndex","randomIndex","seedrandom","originalRandom","random","seededRandom","randomValues","seed","_seed","randomFromTo","from","to","floor","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","rescale","round2","num","round","originalWindowWidth","originalWindowHeight","newWidthToHeight","keepMargin","position","onresize","onorientationchange","setInterval","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","indexOf","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","lang","angularTranslationLanguages","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","localStorage","str","getItem","fromJson","translate","translationId","interpolateParams","translation","setItem","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}