{"version":3,"file":"turnBasedServices.2.min.js","sources":["turnBasedServices.2.js"],"names":["emulatorServicesCompilationDate","angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","i","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","length","operation","set","visibleToPlayerIndexes","indexOf","type","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","Math","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","toString","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","logSaver","gameUrl","sendMessage","message","parent","postMessage","addMessageListener","listener","addEventListener","event","source","$apply","factory","angularErrorHandler","exception","cause","lines","stack","replace","getLogs","errStr","console","emailJavaScriptError","window","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","entry","stringArgs","arg","stringArg","toFixed","alwaysLogs","alwaysLog","apply","debug","warn","log","stateService","messageService","passUpdateUI","params","lastUpdateUI","wasYourTurn","isLocalTesting","createPlayersInfo","gameDeveloperEmail","lastMessage","isMoveOkResult","gameReady","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","getElementById","oldSizes","rescale","round2","num","round","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","width","height","position","left","top","document","onresize","onorientationchange","setInterval","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","split","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","urlParams","lang","angularTranslationLanguages","query","substr","forEach","part","item","decodeURIComponent","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","str","translate","translationId","interpolateParams","translation","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}