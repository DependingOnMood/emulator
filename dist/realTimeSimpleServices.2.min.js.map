{"version":3,"file":"realTimeSimpleServices.2.min.js","sources":["realTimeSimpleServices.2.js"],"names":["emulatorServicesCompilationDate","angular","module","service","$window","$log","$timeout","messageService","randomService","sendLocalTestingStartMatch","info","handleMessage","gotStartMatch","playersInfo","playerId","randomSeed","doNotUseInYourGameGetOriginalMathRandom","init","_game","gotMessage","gotEndMatch","Error","game","isLocalTesting","addMessageListener","sendMessage","gameReady","msg","endMatch","message","lastMessage","length","yourPlayerIndex","undefined","setSeed","toJson","checkSendMessage","console","log","sendReliableMessage","sendUnreliableMessage","endMatchScores","parent","this","logSaver","$rootScope","gameUrl","location","toString","postMessage","listener","addEventListener","event","source","data","$apply","factory","angularErrorHandler","exception","cause","lines","push","stack","replace","getLogs","errStr","join","error","emailJavaScriptError","window","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","i","entry","stringArgs","j","arg","stringArg","toFixed","alwaysLogs","alwaysLog","arguments","apply","debug","warn","checkRandomIndex","randomIndex","Math","seedrandom","originalRandom","random","seededRandom","randomValues","seed","_seed","randomFromTo","from","to","floor","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","getElementById","oldSizes","rescale","round2","num","round","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","width","height","position","left","top","document","onresize","onorientationchange","setInterval","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","split","indexOf","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","urlParams","lang","angularTranslationLanguages","query","search","substr","result","forEach","part","item","decodeURIComponent","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","localStorage","str","getItem","fromJson","translate","translationId","interpolateParams","translation","setItem","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}