{"version":3,"file":"turnBasedServices.2.min.js","sources":["turnBasedServices.2.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","Math","round","toString","addEventListener","setInterval","emulatorServicesCompilationDate","angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","indexOf","type","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","logSaver","gameUrl","sendMessage","message","parent","postMessage","addMessageListener","listener","event","source","$apply","factory","angularErrorHandler","exception","cause","lines","stack","replace","getLogs","errStr","console","emailJavaScriptError","window","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","entry","stringArgs","arg","stringArg","toFixed","alwaysLogs","alwaysLog","apply","debug","warn","log","stateService","messageService","passUpdateUI","lastUpdateUI","wasYourTurn","isLocalTesting","createPlayersInfo","gameDeveloperEmail","lastMessage","isMoveOkResult","gameReady","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","onresize","onorientationchange","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","urlParams","lang","angularTranslationLanguages","query","substr","forEach","part","item","decodeURIComponent","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","str","translate","translationId","interpolateParams","translation","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}